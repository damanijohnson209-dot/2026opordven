{
"returncode" : 0,
"stdout" : "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\"\/>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\/>\n<title>Venezuela Absolute Resolve — Operational Weather<\/title>\n<link rel=\"preconnect\" href=\"https:\/\/fonts.googleapis.com\"\/>\n<link rel=\"preconnect\" href=\"https:\/\/fonts.gstatic.com\" crossorigin\/>\n<link href=\"https:\/\/fonts.googleapis.com\/css2?family=Exo+2:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;700&family=Bebas+Neue&display=swap\" rel=\"stylesheet\"\/>\n<style>\n\/* ═══════════════════════════════════════════════════════════\n VENEZUELA ABSOLUTE RESOLVE — OPERATIONAL WEATHER SYSTEM\n Design: Military Ops Console \/ Dark Industrial\n═══════════════════════════════════════════════════════════ *\/\n\n*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n\n:root {\n --bg-void: #050709;\n --bg-base: #080c10;\n --bg-surface: #0c1219;\n --bg-raised: #101820;\n --bg-card: #121a24;\n --bg-hover: #172030;\n --border-dim: #1a2535;\n --border-mid: #243548;\n --border-bright: #2e4560;\n --border-glow: rgba(0,210,255,0.3);\n\n --accent: #00d2ff;\n --accent-dim: #0099bb;\n --accent-glow: rgba(0,210,255,0.12);\n --accent-pulse: rgba(0,210,255,0.25);\n\n --amber: #ffb800;\n --amber-dim: rgba(255,184,0,0.15);\n --red: #ff3355;\n --red-dim: rgba(255,51,85,0.15);\n --green: #00ff9d;\n --green-dim: rgba(0,255,157,0.12);\n\n --text-primary: #d0e4f0;\n --text-secondary:#7a9ab5;\n --text-dim: #3a5570;\n --text-muted: #253545;\n\n --header-h: 58px;\n --loctab-h: 46px;\n --navh: 42px;\n\n --font-ui: 'Exo 2', sans-serif;\n --font-mono: 'JetBrains Mono', monospace;\n --font-display: 'Bebas Neue', sans-serif;\n\n --radius: 4px;\n --shadow-card: 0 4px 24px rgba(0,0,0,0.6);\n}\n\nhtml, body { height: 100%; background: var(--bg-void); color: var(--text-primary); font-family: var(--font-ui); overflow: hidden; }\n\n\/* ── SCROLLBARS ────────────────────────────────────── *\/\n::-webkit-scrollbar { width: 5px; height: 5px; }\n::-webkit-scrollbar-track { background: var(--bg-base); }\n::-webkit-scrollbar-thumb { background: var(--border-bright); border-radius: 3px; }\n::-webkit-scrollbar-thumb:hover { background: var(--accent-dim); }\n\n\/* ── UTILITY ────────────────────────────────────────── *\/\n.hidden { display: none !important; }\n.fade-in { animation: fadeIn 0.22s ease both; }\n@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: none; } }\n\n.status-dot { display: inline-block; width: 7px; height: 7px; border-radius: 50%; }\n.status-dot.active { background: var(--green); box-shadow: 0 0 8px var(--green); animation: blink 2.5s ease infinite; }\n@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.35; } }\n\n\/* ── LOGIN ──────────────────────────────────────────── *\/\n.login-overlay {\n position: fixed; inset: 0; background: var(--bg-void);\n display: flex; align-items: center; justify-content: center; z-index: 9999;\n background-image: \n radial-gradient(ellipse 80% 60% at 50% 50%, rgba(0,210,255,0.04) 0%, transparent 70%),\n repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(0,210,255,0.03) 40px),\n repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(0,210,255,0.03) 40px);\n}\n.login-box {\n background: var(--bg-surface); border: 1px solid var(--border-mid);\n border-radius: 8px; padding: 40px 48px;\n width: 420px; text-align: center;\n box-shadow: 0 0 80px rgba(0,0,0,0.9), 0 0 40px rgba(0,210,255,0.05);\n position: relative;\n}\n.login-box::before {\n content: ''; position: absolute; top: 0; left: 30%; right: 30%;\n height: 1px; background: linear-gradient(90deg, transparent, var(--accent), transparent);\n}\n.login-emblem {\n width: 72px; height: 72px; margin: 0 auto 24px;\n position: relative; display: flex; align-items: center; justify-content: center;\n}\n.emblem-ring {\n position: absolute; inset: 0; border: 1px solid var(--accent-dim);\n border-radius: 50%; animation: spin 8s linear infinite;\n border-top-color: var(--accent); border-right-color: transparent;\n}\n@keyframes spin { to { transform: rotate(360deg); } }\n.emblem-inner { z-index: 1; }\n.emblem-icon { font-size: 32px; color: var(--accent); text-shadow: 0 0 20px var(--accent); }\n.login-title { font-family: var(--font-display); font-size: 22px; letter-spacing: 3px; color: var(--accent); margin-bottom: 4px; }\n.login-subtitle { font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); letter-spacing: 2px; margin-bottom: 4px; }\n.login-classification { font-family: var(--font-mono); font-size: 9px; color: var(--amber); letter-spacing: 2px; margin-bottom: 28px; }\n.login-fields { display: flex; flex-direction: column; gap: 14px; text-align: left; }\n.field-group { display: flex; flex-direction: column; gap: 5px; }\n.field-label { font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); letter-spacing: 2px; }\n.login-input {\n background: var(--bg-raised); border: 1px solid var(--border-mid);\n border-radius: var(--radius); color: var(--text-primary);\n font-family: var(--font-mono); font-size: 13px; padding: 10px 12px; outline: none;\n transition: border 0.2s, box-shadow 0.2s;\n}\n.login-input:focus { border-color: var(--accent-dim); box-shadow: 0 0 0 2px var(--accent-glow); }\n.login-hint { font-family: var(--font-mono); font-size: 9px; color: var(--text-muted); text-align: center; }\n.login-btn {\n background: var(--accent-glow); border: 1px solid var(--accent-dim);\n color: var(--accent); font-family: var(--font-display); font-size: 16px; letter-spacing: 3px;\n padding: 12px; border-radius: var(--radius); cursor: pointer; display: flex;\n align-items: center; justify-content: center; gap: 10px; margin-top: 4px;\n transition: all 0.2s; width: 100%;\n}\n.login-btn:hover { background: rgba(0,210,255,0.18); border-color: var(--accent); box-shadow: 0 0 20px rgba(0,210,255,0.15); }\n.login-error { font-family: var(--font-mono); font-size: 10px; color: var(--red); text-align: center; padding: 6px; border: 1px solid var(--red-dim); border-radius: var(--radius); background: var(--red-dim); letter-spacing: 1px; }\n.login-footer { margin-top: 24px; font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); display: flex; align-items: center; justify-content: center; gap: 6px; }\n\n\/* ── APP SHELL ──────────────────────────────────────── *\/\n.app { display: flex; flex-direction: column; height: 100vh; }\n\n\/* ── HEADER ──────────────────────────────────────────── *\/\n.header {\n height: var(--header-h); background: var(--bg-surface);\n border-bottom: 1px solid var(--border-dim);\n display: flex; align-items: center; padding: 0 16px; gap: 16px;\n flex-shrink: 0; position: relative; z-index: 200;\n}\n.header::after {\n content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 1px;\n background: linear-gradient(90deg, transparent 0%, var(--accent-dim) 30%, var(--accent-dim) 70%, transparent 100%);\n opacity: 0.4;\n}\n.header-left { display: flex; align-items: center; gap: 12px; min-width: 280px; }\n.header-logo { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; }\n.logo-hex { font-size: 28px; color: var(--accent); text-shadow: 0 0 15px var(--accent); }\n.brand-mission { font-family: var(--font-display); font-size: 17px; letter-spacing: 2px; color: var(--accent); line-height: 1; }\n.brand-sub { font-family: var(--font-mono); font-size: 8px; color: var(--text-secondary); letter-spacing: 1.5px; margin-top: 3px; }\n\n.header-center { flex: 1; display: flex; justify-content: center; }\n.search-wrap { position: relative; width: 100%; max-width: 440px; }\n.search-icon { position: absolute; left: 11px; top: 50%; transform: translateY(-50%); color: var(--text-dim); font-size: 15px; pointer-events: none; }\n.search-input {\n width: 100%; background: var(--bg-raised); border: 1px solid var(--border-dim);\n border-radius: var(--radius); color: var(--text-primary);\n font-family: var(--font-mono); font-size: 11px; padding: 8px 32px 8px 34px; outline: none;\n transition: border 0.2s;\n}\n.search-input:focus { border-color: var(--border-bright); }\n.search-input::placeholder { color: var(--text-muted); }\n.search-clear { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: var(--text-dim); cursor: pointer; font-size: 11px; display: none; }\n.search-clear.visible { display: block; }\n\n.header-right { display: flex; align-items: center; gap: 16px; min-width: 220px; justify-content: flex-end; }\n.header-clock { text-align: right; }\n.clock-utc { font-family: var(--font-mono); font-size: 15px; color: var(--accent); letter-spacing: 1px; }\n.clock-date { font-family: var(--font-mono); font-size: 9px; color: var(--text-secondary); letter-spacing: 1px; }\n.header-status { display: flex; align-items: center; gap: 6px; }\n.status-label { font-family: var(--font-mono); font-size: 9px; color: var(--text-secondary); letter-spacing: 1px; }\n.logout-btn { background: none; border: 1px solid var(--border-mid); border-radius: var(--radius); color: var(--text-dim); font-size: 14px; width: 30px; height: 30px; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; }\n.logout-btn:hover { border-color: var(--red); color: var(--red); background: var(--red-dim); }\n\n\/* ── LOCATION TABS ───────────────────────────────────── *\/\n.loc-tabs {\n height: var(--loctab-h); background: var(--bg-base);\n border-bottom: 1px solid var(--border-dim);\n display: flex; align-items: center; padding: 0 16px;\n gap: 0; justify-content: space-between; flex-shrink: 0;\n}\n.loc-tab-track { display: flex; gap: 4px; align-items: center; }\n.loc-tab {\n display: flex; flex-direction: column; align-items: flex-start;\n padding: 6px 20px; border: 1px solid transparent;\n border-bottom: none; border-radius: 4px 4px 0 0;\n background: transparent; color: var(--text-secondary);\n cursor: pointer; transition: all 0.2s; gap: 1px;\n font-family: var(--font-ui); position: relative; top: 1px;\n}\n.loc-tab:hover { background: var(--bg-raised); color: var(--text-primary); }\n.loc-tab.active { background: var(--bg-surface); border-color: var(--border-mid); border-bottom-color: var(--bg-surface); color: var(--accent); }\n.loc-tab.active::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: var(--accent); border-radius: 4px 4px 0 0; }\n.loc-icao { font-family: var(--font-display); font-size: 18px; letter-spacing: 2px; line-height: 1; }\n.loc-name { font-family: var(--font-mono); font-size: 8px; letter-spacing: 1px; color: var(--text-dim); }\n.loc-tab-add { background: none; border: 1px dashed var(--border-mid); border-radius: var(--radius); color: var(--text-dim); font-family: var(--font-mono); font-size: 10px; padding: 4px 10px; cursor: pointer; margin-left: 8px; transition: all 0.2s; letter-spacing: 1px; }\n.loc-tab-add:hover { border-color: var(--accent-dim); color: var(--accent); }\n.loc-cycle { display: flex; align-items: center; gap: 8px; }\n.cycle-label { font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); letter-spacing: 1px; }\n.cycle-select { background: var(--bg-raised); border: 1px solid var(--border-mid); color: var(--accent); font-family: var(--font-mono); font-size: 12px; padding: 5px 10px; border-radius: var(--radius); outline: none; cursor: pointer; }\n\n\/* ── SECTION NAV ──────────────────────────────────────── *\/\n.section-nav {\n height: var(--navh); background: var(--bg-surface);\n border-bottom: 1px solid var(--border-dim);\n flex-shrink: 0; overflow-x: auto; overflow-y: hidden;\n}\n.section-nav::-webkit-scrollbar { height: 2px; }\n.nav-items { display: flex; height: 100%; padding: 0 16px; gap: 2px; }\n.nav-item {\n display: flex; align-items: center; gap: 7px;\n padding: 0 18px; background: transparent; border: none;\n border-bottom: 2px solid transparent;\n color: var(--text-secondary); font-family: var(--font-ui); font-size: 12px;\n font-weight: 600; letter-spacing: 1px; cursor: pointer;\n transition: all 0.18s; white-space: nowrap;\n}\n.nav-item .nav-icon { font-size: 10px; }\n.nav-item:hover { color: var(--text-primary); border-bottom-color: var(--border-bright); }\n.nav-item.active { color: var(--accent); border-bottom-color: var(--accent); background: rgba(0,210,255,0.04); }\n\n\/* ── CONTENT AREA ────────────────────────────────────── *\/\n.content { flex: 1; overflow-y: auto; padding: 20px; background: var(--bg-base); }\n\n\/* ── PAGE HEADER ─────────────────────────────────────── *\/\n.page-header { margin-bottom: 20px; padding-bottom: 14px; border-bottom: 1px solid var(--border-dim); }\n.page-header-inner { display: flex; align-items: flex-end; justify-content: space-between; }\n.page-title { font-family: var(--font-display); font-size: 24px; letter-spacing: 3px; color: var(--accent); }\n.page-subtitle { font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); letter-spacing: 1px; margin-top: 4px; }\n.page-meta { display: flex; gap: 10px; margin-top: 8px; flex-wrap: wrap; }\n.meta-chip { font-family: var(--font-mono); font-size: 9px; letter-spacing: 1px; padding: 3px 9px; border-radius: 2px; border: 1px solid var(--border-dim); color: var(--text-dim); }\n.meta-chip.active { border-color: var(--accent-dim); color: var(--accent); background: var(--accent-glow); }\n\n\/* ── COLLAPSIBLE SECTION ─────────────────────────────── *\/\n.collapsible { margin-bottom: 14px; border: 1px solid var(--border-dim); border-radius: 6px; overflow: hidden; }\n.collapsible-header {\n display: flex; align-items: center; justify-content: space-between;\n padding: 11px 16px; background: var(--bg-card); cursor: pointer;\n transition: background 0.18s; user-select: none;\n}\n.collapsible-header:hover { background: var(--bg-hover); }\n.collapsible-left { display: flex; align-items: center; gap: 10px; }\n.collapsible-num { font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); min-width: 30px; }\n.collapsible-title { font-family: var(--font-ui); font-size: 13px; font-weight: 600; letter-spacing: 0.5px; color: var(--text-primary); }\n.collapsible-badge { font-family: var(--font-mono); font-size: 9px; padding: 2px 7px; border-radius: 2px; border: 1px solid var(--border-mid); color: var(--text-dim); letter-spacing: 1px; }\n.collapsible-right { display: flex; align-items: center; gap: 10px; }\n.chevron { font-size: 10px; color: var(--text-dim); transition: transform 0.2s; }\n.chevron.open { transform: rotate(90deg); }\n.collapsible-body { padding: 16px; background: var(--bg-raised); border-top: 1px solid var(--border-dim); }\n.collapsed .collapsible-body { display: none; }\n\n\/* ── CARD ────────────────────────────────────────────── *\/\n.card { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 6px; overflow: hidden; transition: border-color 0.2s; box-shadow: var(--shadow-card); }\n.card:hover { border-color: var(--border-mid); }\n.card-head { display: flex; align-items: center; justify-content: space-between; padding: 9px 14px; border-bottom: 1px solid var(--border-dim); background: rgba(0,0,0,0.25); }\n.card-title { font-family: var(--font-ui); font-size: 11px; font-weight: 700; letter-spacing: 1.5px; color: var(--text-secondary); text-transform: uppercase; }\n.card-actions { display: flex; gap: 5px; }\n.card-btn { background: none; border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-dim); font-family: var(--font-mono); font-size: 10px; padding: 3px 8px; cursor: pointer; transition: all 0.15s; }\n.card-btn:hover { border-color: var(--accent-dim); color: var(--accent); }\n.card-btn.danger:hover { border-color: var(--red); color: var(--red); }\n.card-body { padding: 14px; }\n\n\/* ── GRID LAYOUTS ────────────────────────────────────── *\/\n.grid-1 { display: grid; grid-template-columns: 1fr; gap: 14px; }\n.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }\n.grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 14px; }\n.grid-auto { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 14px; }\n\n\/* ── UPLOAD ZONE ──────────────────────────────────────── *\/\n.upload-zone {\n border: 1px dashed var(--border-bright); border-radius: 5px;\n min-height: 150px; display: flex; flex-direction: column;\n align-items: center; justify-content: center; gap: 8px;\n cursor: pointer; transition: all 0.2s; position: relative;\n background: rgba(0,0,0,0.2); overflow: hidden;\n}\n.upload-zone:hover, .upload-zone.drag-over { border-color: var(--accent-dim); background: var(--accent-glow); }\n.upload-zone.has-content { border-style: solid; border-color: var(--border-mid); min-height: auto; }\n.upload-zone input[type=file] { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }\n.upload-icon { font-size: 26px; color: var(--text-muted); }\n.upload-text { font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); text-align: center; letter-spacing: 1px; line-height: 1.6; }\n.upload-text strong { color: var(--text-secondary); }\n.upload-preview { max-width: 100%; max-height: 380px; object-fit: contain; display: block; border-radius: 3px; }\n.upload-gif { max-width: 100%; border-radius: 3px; }\n.upload-controls { display: flex; gap: 6px; margin-top: 8px; flex-wrap: wrap; }\n\n\/* ── ANALYSIS FIELD ──────────────────────────────────── *\/\n.analysis-label { font-family: var(--font-mono); font-size: 9px; letter-spacing: 1.5px; color: var(--text-dim); margin-top: 12px; margin-bottom: 5px; display: block; text-transform: uppercase; }\n.analysis-field {\n width: 100%; background: rgba(0,0,0,0.35); border: 1px solid var(--border-dim);\n border-radius: 3px; color: var(--text-primary);\n font-family: var(--font-mono); font-size: 11px; padding: 9px;\n resize: vertical; min-height: 80px; outline: none; line-height: 1.65;\n transition: border 0.2s;\n}\n.analysis-field:focus { border-color: var(--accent-dim); }\n.analysis-field::placeholder { color: var(--text-muted); }\n\n\/* ── DISCUSSION NOTES ────────────────────────────────── *\/\n.discussion-wrap { margin-top: 10px; }\n.discussion-toggle { display: flex; align-items: center; gap: 8px; font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); cursor: pointer; letter-spacing: 1px; padding: 4px 0; }\n.discussion-toggle:hover { color: var(--text-secondary); }\n.discussion-body { margin-top: 6px; }\n.discussion-field {\n width: 100%; background: rgba(0,0,0,0.4); border: 1px solid var(--border-dim);\n border-radius: 3px; color: var(--text-secondary);\n font-family: var(--font-mono); font-size: 11px; padding: 8px;\n resize: vertical; min-height: 60px; outline: none; line-height: 1.6;\n transition: border 0.2s;\n}\n.discussion-field:focus { border-color: var(--border-bright); }\n\n\/* ── LEVEL TABS (upper air \/ model) ──────────────────── *\/\n.level-tabs { display: flex; gap: 4px; margin-bottom: 14px; flex-wrap: wrap; }\n.level-tab { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-secondary); font-family: var(--font-mono); font-size: 11px; padding: 5px 14px; cursor: pointer; transition: all 0.15s; letter-spacing: 1px; }\n.level-tab:hover { border-color: var(--border-bright); color: var(--text-primary); }\n.level-tab.active { background: var(--accent-glow); border-color: var(--accent-dim); color: var(--accent); }\n\n\/* ── COMPARE PANEL ───────────────────────────────────── *\/\n.compare-select-bar { display: flex; gap: 8px; margin-bottom: 12px; align-items: center; flex-wrap: wrap; }\n.compare-select-bar .label { font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); letter-spacing: 1px; }\n.compare-btn { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; padding: 5px 12px; cursor: pointer; transition: all 0.15s; }\n.compare-btn:hover { border-color: var(--accent-dim); color: var(--accent); }\n.compare-btn.active { background: var(--accent-glow); border-color: var(--accent-dim); color: var(--accent); }\n\n\/* ── STOPLIGHT TABLE ─────────────────────────────────── *\/\n.stoplight-table { width: 100%; border-collapse: collapse; font-family: var(--font-mono); font-size: 11px; }\n.stoplight-table th { padding: 9px 12px; text-align: left; background: rgba(0,0,0,0.4); border: 1px solid var(--border-dim); color: var(--text-secondary); font-size: 10px; letter-spacing: 1px; font-weight: 500; }\n.stoplight-table td { padding: 8px 12px; border: 1px solid var(--border-dim); color: var(--text-primary); vertical-align: middle; }\n.stoplight-table tr:hover td { background: rgba(255,255,255,0.02); }\n.stoplight-table select, .stoplight-table input { background: transparent; border: none; outline: none; color: inherit; font-family: var(--font-mono); font-size: 11px; width: 100%; }\n.light { display: inline-flex; align-items: center; gap: 6px; font-weight: 700; }\n.light-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }\n.g .light-dot { background: var(--green); box-shadow: 0 0 8px var(--green); }\n.g { color: var(--green); }\n.a .light-dot { background: var(--amber); box-shadow: 0 0 8px var(--amber); }\n.a { color: var(--amber); }\n.r .light-dot { background: var(--red); box-shadow: 0 0 8px var(--red); }\n.r { color: var(--red); }\n\n\/* ── TIMELINE ─────────────────────────────────────────── *\/\n.timeline { display: flex; gap: 0; overflow-x: auto; padding-bottom: 8px; }\n.timeline-day { min-width: 140px; border: 1px solid var(--border-dim); border-left: none; }\n.timeline-day:first-child { border-left: 1px solid var(--border-dim); border-radius: 4px 0 0 4px; }\n.timeline-day:last-child { border-radius: 0 4px 4px 0; }\n.timeline-day-head { padding: 7px 10px; background: rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-dim); text-align: center; }\n.timeline-day-label { font-family: var(--font-display); font-size: 14px; letter-spacing: 1px; color: var(--accent); }\n.timeline-day-date { font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); }\n.timeline-day-body { padding: 10px; }\n.timeline-field { width: 100%; background: transparent; border: none; outline: none; color: var(--text-primary); font-family: var(--font-mono); font-size: 10px; resize: none; height: 80px; line-height: 1.5; }\n.timeline-field::placeholder { color: var(--text-muted); }\n.timeline-risk { display: flex; gap: 4px; justify-content: center; padding: 6px 0; border-top: 1px solid var(--border-dim); }\n.timeline-risk-btn { width: 20px; height: 20px; border-radius: 50%; border: 2px solid; cursor: pointer; transition: transform 0.15s; }\n.timeline-risk-btn:hover { transform: scale(1.2); }\n.timeline-risk-btn.grn { border-color: var(--green); }\n.timeline-risk-btn.grn.on { background: var(--green); box-shadow: 0 0 8px var(--green); }\n.timeline-risk-btn.amb { border-color: var(--amber); }\n.timeline-risk-btn.amb.on { background: var(--amber); box-shadow: 0 0 8px var(--amber); }\n.timeline-risk-btn.red { border-color: var(--red); }\n.timeline-risk-btn.red.on { background: var(--red); box-shadow: 0 0 8px var(--red); }\n\n\/* ── ARCHIVE ─────────────────────────────────────────── *\/\n.archive-filters { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; align-items: center; }\n.archive-filters select, .archive-filters input { background: var(--bg-card); border: 1px solid var(--border-dim); color: var(--text-primary); font-family: var(--font-mono); font-size: 11px; padding: 6px 10px; border-radius: 3px; outline: none; }\n.archive-table { width: 100%; border-collapse: collapse; }\n.archive-table th { padding: 8px 12px; background: var(--bg-card); border: 1px solid var(--border-dim); color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; letter-spacing: 1px; text-align: left; }\n.archive-table td { padding: 9px 12px; border: 1px solid var(--border-dim); font-family: var(--font-mono); font-size: 11px; color: var(--text-primary); }\n.archive-table tr:hover td { background: var(--bg-hover); }\n.archive-table input, .archive-table select { background: transparent; border: none; outline: none; color: inherit; font-family: inherit; font-size: inherit; width: 100%; }\n.add-row-btn { margin-top: 10px; background: var(--bg-card); border: 1px dashed var(--border-mid); color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; padding: 7px 16px; border-radius: 3px; cursor: pointer; letter-spacing: 1px; transition: all 0.15s; }\n.add-row-btn:hover { border-color: var(--accent-dim); color: var(--accent); }\n.version-badge { display: inline-block; background: var(--accent-glow); border: 1px solid var(--accent-dim); color: var(--accent); font-family: var(--font-mono); font-size: 9px; padding: 2px 6px; border-radius: 2px; letter-spacing: 1px; }\n\n\/* ── DIVIDER ─────────────────────────────────────────── *\/\n.section-div { border: none; border-top: 1px solid var(--border-dim); margin: 16px 0; }\n\n\/* ── IMPACT ASSET TABLE ──────────────────────────────── *\/\n.asset-table { width: 100%; border-collapse: collapse; }\n.asset-table th { padding: 8px 12px; background: rgba(0,0,0,0.4); border: 1px solid var(--border-dim); color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; letter-spacing: 1px; }\n.asset-table td { border: 1px solid var(--border-dim); padding: 0; }\n.asset-table td textarea { width: 100%; background: transparent; border: none; outline: none; color: var(--text-primary); font-family: var(--font-mono); font-size: 11px; padding: 8px 10px; resize: none; min-height: 60px; line-height: 1.5; }\n\n\/* ── LIGHTBOX ────────────────────────────────────────── *\/\n.lightbox { position: fixed; inset: 0; z-index: 5000; display: flex; align-items: center; justify-content: center; }\n.lightbox-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.95); }\n.lightbox-inner { position: relative; max-width: 95vw; max-height: 95vh; }\n.lightbox-close { position: absolute; top: -38px; right: 0; background: none; border: 1px solid var(--border-mid); border-radius: 3px; color: var(--text-primary); font-family: var(--font-mono); font-size: 11px; padding: 4px 10px; cursor: pointer; }\n.lightbox-close:hover { border-color: var(--red); color: var(--red); }\n.lightbox-inner img { max-width: 95vw; max-height: 88vh; object-fit: contain; border-radius: 3px; position: relative; z-index: 1; }\n.lightbox-caption { position: relative; z-index: 1; font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); text-align: center; margin-top: 8px; }\n\n\/* ── COMPARE MODAL ───────────────────────────────────── *\/\n.compare-modal { position: fixed; inset: 0; z-index: 4000; display: flex; align-items: center; justify-content: center; }\n.compare-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.9); }\n.compare-inner { position: relative; z-index: 1; background: var(--bg-surface); border: 1px solid var(--border-mid); border-radius: 8px; width: 92vw; max-height: 90vh; overflow: hidden; display: flex; flex-direction: column; }\n.compare-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid var(--border-dim); }\n.compare-title { font-family: var(--font-display); font-size: 16px; letter-spacing: 2px; color: var(--accent); }\n.compare-close { background: none; border: 1px solid var(--border-mid); border-radius: 3px; color: var(--text-dim); font-size: 12px; padding: 4px 10px; cursor: pointer; }\n.compare-close:hover { border-color: var(--red); color: var(--red); }\n.compare-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px; padding: 16px; overflow-y: auto; flex: 1; }\n.compare-item { border: 1px solid var(--border-dim); border-radius: 4px; overflow: hidden; }\n.compare-item-title { padding: 6px 10px; background: rgba(0,0,0,0.3); font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); letter-spacing: 1px; border-bottom: 1px solid var(--border-dim); }\n.compare-item img { width: 100%; object-fit: contain; max-height: 300px; }\n\n\/* ── TOAST ───────────────────────────────────────────── *\/\n.toast { position: fixed; bottom: 24px; right: 24px; background: var(--bg-surface); border: 1px solid var(--border-mid); border-radius: 5px; padding: 10px 18px; font-family: var(--font-mono); font-size: 12px; color: var(--text-primary); z-index: 9000; box-shadow: 0 8px 32px rgba(0,0,0,0.8); animation: slideIn 0.2s ease; }\n@keyframes slideIn { from { transform: translateX(20px); opacity: 0; } to { transform: none; opacity: 1; } }\n\n\/* ── RESPONSIVE ──────────────────────────────────────── *\/\n@media (max-width: 900px) {\n .grid-2, .grid-3 { grid-template-columns: 1fr; }\n .header-left { min-width: auto; }\n .header-right { min-width: auto; }\n}\n@media (max-width: 600px) {\n .header { padding: 0 10px; gap: 8px; }\n .brand-mission { font-size: 14px; }\n .content { padding: 12px; }\n}\n\n\/* ── SEARCH HIGHLIGHT ────────────────────────────────── *\/\n.search-highlight { background: rgba(0,210,255,0.2); border-radius: 2px; padding: 0 2px; }\n\n\/* ── MODEL SPECIFIC ──────────────────────────────────── *\/\n.model-product-tabs { display: flex; gap: 4px; flex-wrap: wrap; margin-bottom: 12px; }\n.model-product-tab { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; padding: 4px 10px; cursor: pointer; transition: all 0.15s; letter-spacing: 1px; }\n.model-product-tab.active { background: rgba(255,184,0,0.1); border-color: var(--amber-dim); color: var(--amber); }\n.model-product-tab:hover { border-color: var(--border-bright); color: var(--text-primary); }\n\n<\/style>\n<\/head>\n<body>\n\n<!-- LOGIN OVERLAY -->\n<div id=\"loginOverlay\" class=\"login-overlay\">\n <div class=\"login-box\">\n <div class=\"login-emblem\">\n <div class=\"emblem-ring\"><\/div>\n <div class=\"emblem-inner\">\n <span class=\"emblem-icon\">⬡<\/span>\n <\/div>\n <\/div>\n <div class=\"login-title\">VENEZUELA ABSOLUTE RESOLVE<\/div>\n <div class=\"login-subtitle\">OPERATIONAL WEATHER ANALYSIS SYSTEM<\/div>\n <div class=\"login-classification\">\/\/ ACCESS RESTRICTED \/\/<\/div>\n <div class=\"login-fields\">\n <div class=\"field-group\">\n <label class=\"field-label\">OPERATOR ID<\/label>\n <input type=\"text\" id=\"loginUser\" class=\"login-input\" placeholder=\"Enter operator ID\" autocomplete=\"off\"\/>\n <\/div>\n <div class=\"field-group\">\n <label class=\"field-label\">ACCESS CODE<\/label>\n <input type=\"password\" id=\"loginPass\" class=\"login-input\" placeholder=\"Enter access code\" autocomplete=\"off\"\/>\n <\/div>\n <div class=\"login-hint\">Default: demo \/ demo1234<\/div>\n <button class=\"login-btn\" onclick=\"attemptLogin()\">\n <span class=\"btn-text\">AUTHENTICATE<\/span>\n <span class=\"btn-arrow\">→<\/span>\n <\/button>\n <div id=\"loginError\" class=\"login-error hidden\">AUTHENTICATION FAILED — INVALID CREDENTIALS<\/div>\n <\/div>\n <div class=\"login-footer\">\n <span class=\"status-dot active\"><\/span> SYSTEM OPERATIONAL\n <\/div>\n <\/div>\n<\/div>\n\n<!-- MAIN APP -->\n<div id=\"app\" class=\"app hidden\">\n\n <!-- HEADER -->\n <header class=\"header\">\n <div class=\"header-left\">\n <div class=\"header-logo\">\n <span class=\"logo-hex\">⬡<\/span>\n <\/div>\n <div class=\"header-brand\">\n <div class=\"brand-mission\">VENEZUELA ABSOLUTE RESOLVE<\/div>\n <div class=\"brand-sub\">OPERATIONAL WEATHER ANALYSIS SYSTEM<\/div>\n <\/div>\n <\/div>\n\n <div class=\"header-center\">\n <div class=\"search-wrap\">\n <span class=\"search-icon\">⌕<\/span>\n <input type=\"text\" id=\"globalSearch\" class=\"search-input\" placeholder=\"SEARCH SECTIONS, CONTENT...\" oninput=\"handleSearch(this.value)\"\/>\n <span class=\"search-clear\" onclick=\"clearSearch()\" id=\"searchClear\">✕<\/span>\n <\/div>\n <\/div>\n\n <div class=\"header-right\">\n <div class=\"header-clock\">\n <div class=\"clock-utc\" id=\"clockUTC\">00:00:00Z<\/div>\n <div class=\"clock-date\" id=\"clockDate\">-- --- ----<\/div>\n <\/div>\n <div class=\"header-status\">\n <span class=\"status-dot active\"><\/span>\n <span class=\"status-label\">LIVE<\/span>\n <\/div>\n <button class=\"logout-btn\" onclick=\"logout()\" title=\"Logout\">⏻<\/button>\n <\/div>\n <\/header>\n\n <!-- LOCATION TABS -->\n <div class=\"loc-tabs\">\n <div class=\"loc-tab-track\">\n <button class=\"loc-tab active\" data-loc=\"TJRV\" onclick=\"switchLocation('TJRV')\">\n <span class=\"loc-icao\">TJRV<\/span>\n <span class=\"loc-name\">Roosevelt Roads, PR<\/span>\n <\/button>\n <button class=\"loc-tab\" data-loc=\"SVMI\" onclick=\"switchLocation('SVMI')\">\n <span class=\"loc-icao\">SVMI<\/span>\n <span class=\"loc-name\">Simón Bolívar, VE<\/span>\n <\/button>\n <button class=\"loc-tab-add\" onclick=\"duplicateAOR()\" title=\"Duplicate AOR\">\n <span>+ AOR<\/span>\n <\/button>\n <\/div>\n <div class=\"loc-cycle\">\n <span class=\"cycle-label\">CYCLE:<\/span>\n <select class=\"cycle-select\" id=\"cycleSelect\" onchange=\"setCycle(this.value)\">\n <option value=\"00Z\">00Z<\/option>\n <option value=\"06Z\">06Z<\/option>\n <option value=\"12Z\" selected>12Z<\/option>\n <option value=\"18Z\">18Z<\/option>\n <\/select>\n <\/div>\n <\/div>\n\n <!-- SECTION NAV -->\n <nav class=\"section-nav\">\n <div class=\"nav-items\">\n <button class=\"nav-item active\" data-section=\"climatology\" onclick=\"switchSection('climatology')\">\n <span class=\"nav-icon\">◈<\/span> CLIMATOLOGY\n <\/button>\n <button class=\"nav-item\" data-section=\"observations\" onclick=\"switchSection('observations')\">\n <span class=\"nav-icon\">◈<\/span> OBSERVATIONS\n <\/button>\n <button class=\"nav-item\" data-section=\"upper-air\" onclick=\"switchSection('upper-air')\">\n <span class=\"nav-icon\">◈<\/span> UPPER AIR\n <\/button>\n <button class=\"nav-item\" data-section=\"model-guidance\" onclick=\"switchSection('model-guidance')\">\n <span class=\"nav-icon\">◈<\/span> MODEL GUIDANCE\n <\/button>\n <button class=\"nav-item\" data-section=\"integrated\" onclick=\"switchSection('integrated')\">\n <span class=\"nav-icon\">◈<\/span> INTEGRATED ASSESSMENT\n <\/button>\n <button class=\"nav-item\" data-section=\"archive\" onclick=\"switchSection('archive')\">\n <span class=\"nav-icon\">◈<\/span> ARCHIVE\n <\/button>\n <\/div>\n <\/nav>\n\n <!-- CONTENT -->\n <main class=\"content\" id=\"mainContent\">\n <!-- Injected by JS -->\n <\/main>\n\n<\/div>\n\n<!-- LIGHTBOX -->\n<div id=\"lightbox\" class=\"lightbox hidden\">\n <div class=\"lightbox-backdrop\" onclick=\"closeLightbox()\"><\/div>\n <div class=\"lightbox-inner\">\n <button class=\"lightbox-close\" onclick=\"closeLightbox()\">✕ CLOSE<\/button>\n <img id=\"lightboxImg\" src=\"\" alt=\"\"\/>\n <div class=\"lightbox-caption\" id=\"lightboxCaption\"><\/div>\n <\/div>\n<\/div>\n\n<!-- COMPARE MODAL -->\n<div id=\"compareModal\" class=\"compare-modal hidden\">\n <div class=\"compare-backdrop\" onclick=\"closeCompare()\"><\/div>\n <div class=\"compare-inner\">\n <div class=\"compare-header\">\n <span class=\"compare-title\">SIDE-BY-SIDE COMPARISON<\/span>\n <button class=\"compare-close\" onclick=\"closeCompare()\">✕<\/button>\n <\/div>\n <div class=\"compare-grid\" id=\"compareGrid\"><\/div>\n <\/div>\n<\/div>\n\n<!-- TOAST -->\n<div id=\"toast\" class=\"toast hidden\"><\/div>\n\n<script>\n\/\/ ═══════════════════════════════════════════════════════════\n\/\/ DATA.JS — State management & localStorage persistence\n\/\/ ═══════════════════════════════════════════════════════════\n\nconst STATE = {\n currentLocation: 'TJRV',\n currentSection: 'climatology',\n currentCycle: '12Z',\n currentLevel: '500mb',\n currentModelProduct: 'deterministic',\n locations: ['TJRV', 'SVMI'],\n searchQuery: '',\n compareImages: {},\n uploadedImages: {}, \/\/ key: loc_section_cardId → dataURL\n analysisNotes: {}, \/\/ key: loc_section_fieldId → text\n archiveRows: {}, \/\/ key: loc → [{...}]\n stoplightData: {}, \/\/ key: loc → [{...}]\n timelineRisks: {}, \/\/ key: loc_day → 'g'|'a'|'r'\n loginUser: null,\n};\n\n\/\/ ── PERSISTENCE ─────────────────────────────────────────\nfunction saveState() {\n try {\n const toSave = {\n uploadedImages: STATE.uploadedImages,\n analysisNotes: STATE.analysisNotes,\n archiveRows: STATE.archiveRows,\n stoplightData: STATE.stoplightData,\n timelineRisks: STATE.timelineRisks,\n locations: STATE.locations,\n };\n localStorage.setItem('var_opws_state', JSON.stringify(toSave));\n } catch(e) { console.warn('Save failed (storage full?)', e); }\n}\n\nfunction loadState() {\n try {\n const raw = localStorage.getItem('var_opws_state');\n if (!raw) return;\n const saved = JSON.parse(raw);\n Object.assign(STATE, saved);\n } catch(e) { console.warn('Load state failed', e); }\n}\n\n\/\/ ── IMAGE HELPERS ────────────────────────────────────────\nfunction getImageKey(loc, section, cardId) {\n return `${loc}__${section}__${cardId}`;\n}\nfunction getImage(loc, section, cardId) {\n return STATE.uploadedImages[getImageKey(loc, section, cardId)] || null;\n}\nfunction setImage(loc, section, cardId, dataURL) {\n STATE.uploadedImages[getImageKey(loc, section, cardId)] = dataURL;\n saveState();\n}\nfunction clearImage(loc, section, cardId) {\n delete STATE.uploadedImages[getImageKey(loc, section, cardId)];\n saveState();\n}\n\n\/\/ ── NOTES HELPERS ────────────────────────────────────────\nfunction getNoteKey(loc, section, fieldId) {\n return `${loc}__${section}__${fieldId}`;\n}\nfunction getNote(loc, section, fieldId) {\n return STATE.analysisNotes[getNoteKey(loc, section, fieldId)] || '';\n}\nfunction setNote(loc, section, fieldId, text) {\n STATE.analysisNotes[getNoteKey(loc, section, fieldId)] = text;\n saveState();\n}\n\n\/\/ ── ARCHIVE HELPERS ──────────────────────────────────────\nfunction getArchive(loc) {\n if (!STATE.archiveRows[loc]) {\n STATE.archiveRows[loc] = defaultArchiveRows();\n }\n return STATE.archiveRows[loc];\n}\nfunction setArchive(loc, rows) {\n STATE.archiveRows[loc] = rows;\n saveState();\n}\nfunction defaultArchiveRows() {\n return [\n { id: 1, date: '2025-01-01', cycle: '00Z', section: 'climatology', version: 'v1.0', analyst: '', notes: '', locked: false },\n ];\n}\n\n\/\/ ── STOPLIGHT HELPERS ────────────────────────────────────\nfunction getStoplight(loc) {\n if (!STATE.stoplightData[loc]) {\n STATE.stoplightData[loc] = defaultStoplight();\n }\n return STATE.stoplightData[loc];\n}\nfunction setStoplight(loc, data) {\n STATE.stoplightData[loc] = data;\n saveState();\n}\nfunction defaultStoplight() {\n return [\n { threat: 'Low-Level Turbulence', air: 'a', isr: 'g', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'Convective Activity \/ CBs', air: 'r', isr: 'r', maritime: 'a', ground: 'a', remarks: '' },\n { threat: 'Icing (FL100–FL200)', air: 'a', isr: 'a', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'Low Visibility \/ Fog', air: 'r', isr: 'r', maritime: 'a', ground: 'a', remarks: '' },\n { threat: 'High Surface Winds', air: 'a', isr: 'g', maritime: 'r', ground: 'a', remarks: '' },\n { threat: 'High Upper Winds (≥100kts)', air: 'a', isr: 'a', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'IR Degradation', air: 'g', isr: 'r', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'Radar Degradation', air: 'g', isr: 'r', maritime: 'a', ground: 'g', remarks: '' },\n ];\n}\n\n\/\/ ── TIMELINE RISK ────────────────────────────────────────\nfunction getTimelineRisk(loc, day) {\n return STATE.timelineRisks[`${loc}__${day}`] || '';\n}\nfunction setTimelineRisk(loc, day, risk) {\n STATE.timelineRisks[`${loc}__${day}`] = risk;\n saveState();\n}\n\n<\/script>\n<script>\n\/\/ ═══════════════════════════════════════════════════════════\n\/\/ UI.JS — Reusable UI helpers & component builders\n\/\/ ═══════════════════════════════════════════════════════════\n\n\/\/ ── CLOCK ────────────────────────────────────────────────\nfunction startClock() {\n function tick() {\n const now = new Date();\n const pad = n => n.toString().padStart(2, '0');\n const utcH = pad(now.getUTCHours());\n const utcM = pad(now.getUTCMinutes());\n const utcS = pad(now.getUTCSeconds());\n document.getElementById('clockUTC').textContent = `${utcH}:${utcM}:${utcS}Z`;\n const months = ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];\n const d = String(now.getUTCDate()).padStart(2,'0');\n const m = months[now.getUTCMonth()];\n const y = now.getUTCFullYear();\n document.getElementById('clockDate').textContent = `${d} ${m} ${y}`;\n }\n tick();\n setInterval(tick, 1000);\n}\n\n\/\/ ── TOAST ────────────────────────────────────────────────\nfunction showToast(msg, duration = 2500) {\n const t = document.getElementById('toast');\n t.textContent = msg;\n t.classList.remove('hidden');\n clearTimeout(t._timer);\n t._timer = setTimeout(() => t.classList.add('hidden'), duration);\n}\n\n\/\/ ── UPLOAD ZONE ──────────────────────────────────────────\nfunction buildUploadZone(loc, section, cardId, opts = {}) {\n const { label = '', allowGif = true, showCompare = false } = opts;\n const existing = getImage(loc, section, cardId);\n const zoneId = `uz-${loc}-${section}-${cardId}`.replace(\/[^a-z0-9-]\/gi, '_');\n\n const isGif = existing && existing.startsWith('data:image\/gif');\n\n const html = `\n <div class=\"upload-zone ${existing ? 'has-content' : ''}\" id=\"${zoneId}\"\n ondragover=\"handleDragOver(event, '${zoneId}')\"\n ondragleave=\"handleDragLeave('${zoneId}')\"\n ondrop=\"handleDrop(event, '${loc}', '${section}', '${cardId}', '${zoneId}')\">\n ${existing\n ? `<img src=\"${existing}\" class=\"${isGif ? 'upload-gif' : 'upload-preview'}\" alt=\"${label}\" data-caption=\"${label}\"\/>`\n : `<div class=\"upload-icon\">⬆<\/div>\n <div class=\"upload-text\"><strong>DRAG & DROP<\/strong><br\/>or click to upload<br\/>${allowGif ? 'PNG · JPG · GIF' : 'PNG · JPG'}<\/div>`\n }\n <input type=\"file\" accept=\"${allowGif ? 'image\/*,.gif' : 'image\/png,image\/jpeg'}\"\n onchange=\"handleFileInput(event, '${loc}', '${section}', '${cardId}', '${zoneId}')\"\/>\n <\/div>\n <div class=\"upload-controls\">\n ${existing ? `\n <button class=\"card-btn\" onclick=\"openLightbox('${zoneId}', '${label}')\">⊞ EXPAND<\/button>\n <button class=\"card-btn danger\" onclick=\"removeUpload('${loc}', '${section}', '${cardId}', '${zoneId}')\">✕ CLEAR<\/button>\n ${showCompare ? `<button class=\"card-btn\" onclick=\"toggleCompare('${loc}', '${section}', '${cardId}', '${label}')\">⊟ COMPARE<\/button>` : ''}\n ` : ''}\n <\/div>`;\n return html;\n}\n\n\/\/ ── ANALYSIS TEXTAREA ────────────────────────────────────\nfunction buildAnalysisField(loc, section, fieldId, placeholder = 'Enter analyst discussion...') {\n const val = getNote(loc, section, fieldId);\n const id = `af-${loc}-${section}-${fieldId}`.replace(\/[^a-z0-9-]\/gi, '_');\n return `\n <span class=\"analysis-label\">ANALYST DISCUSSION<\/span>\n <textarea class=\"analysis-field\" id=\"${id}\" placeholder=\"${placeholder}\"\n onchange=\"handleNoteChange('${loc}', '${section}', '${fieldId}', this.value)\"\n oninput=\"handleNoteChange('${loc}', '${section}', '${fieldId}', this.value)\"\n >${escapeHtml(val)}<\/textarea>`;\n}\n\n\/\/ ── DISCUSSION NOTES ─────────────────────────────────────\nfunction buildDiscussionNotes(loc, section, fieldId) {\n const val = getNote(loc, section, `disc_${fieldId}`);\n const id = `dn-${fieldId}`.replace(\/[^a-z0-9-]\/gi, '_');\n return `\n <div class=\"discussion-wrap\">\n <div class=\"discussion-toggle\" onclick=\"toggleDiscussion('${id}')\">\n <span id=\"disc-chev-${id}\">▶<\/span> COLLAPSIBLE DISCUSSION NOTES\n <\/div>\n <div class=\"discussion-body hidden\" id=\"disc-body-${id}\">\n <textarea class=\"discussion-field\" placeholder=\"Extended discussion notes, model comparison, uncertainty...\"\n onchange=\"handleNoteChange('${loc}', '${section}', 'disc_${fieldId}', this.value)\"\n oninput=\"handleNoteChange('${loc}', '${section}', 'disc_${fieldId}', this.value)\"\n >${escapeHtml(val)}<\/textarea>\n <\/div>\n <\/div>`;\n}\n\n\/\/ ── COLLAPSIBLE ───────────────────────────────────────────\nfunction buildCollapsible(id, num, title, badge, content, defaultOpen = true) {\n return `\n <div class=\"collapsible ${defaultOpen ? '' : 'collapsed'}\" id=\"coll-${id}\">\n <div class=\"collapsible-header\" onclick=\"toggleCollapsible('coll-${id}')\">\n <div class=\"collapsible-left\">\n <span class=\"collapsible-num\">${num}<\/span>\n <span class=\"collapsible-title\">${title}<\/span>\n ${badge ? `<span class=\"collapsible-badge\">${badge}<\/span>` : ''}\n <\/div>\n <div class=\"collapsible-right\">\n <span class=\"chevron ${defaultOpen ? 'open' : ''}\" id=\"chev-${id}\">▶<\/span>\n <\/div>\n <\/div>\n <div class=\"collapsible-body\">${content}<\/div>\n <\/div>`;\n}\n\n\/\/ ── CARD ──────────────────────────────────────────────────",
"stderr" : ""
}{
"returncode" : 0,
"stdout" : "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\"\/>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\/>\n<title>Venezuela Absolute Resolve — Operational Weather<\/title>\n<link rel=\"preconnect\" href=\"https:\/\/fonts.googleapis.com\"\/>\n<link rel=\"preconnect\" href=\"https:\/\/fonts.gstatic.com\" crossorigin\/>\n<link href=\"https:\/\/fonts.googleapis.com\/css2?family=Exo+2:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;700&family=Bebas+Neue&display=swap\" rel=\"stylesheet\"\/>\n<style>\n\/* ═══════════════════════════════════════════════════════════\n VENEZUELA ABSOLUTE RESOLVE — OPERATIONAL WEATHER SYSTEM\n Design: Military Ops Console \/ Dark Industrial\n═══════════════════════════════════════════════════════════ *\/\n\n*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n\n:root {\n --bg-void: #050709;\n --bg-base: #080c10;\n --bg-surface: #0c1219;\n --bg-raised: #101820;\n --bg-card: #121a24;\n --bg-hover: #172030;\n --border-dim: #1a2535;\n --border-mid: #243548;\n --border-bright: #2e4560;\n --border-glow: rgba(0,210,255,0.3);\n\n --accent: #00d2ff;\n --accent-dim: #0099bb;\n --accent-glow: rgba(0,210,255,0.12);\n --accent-pulse: rgba(0,210,255,0.25);\n\n --amber: #ffb800;\n --amber-dim: rgba(255,184,0,0.15);\n --red: #ff3355;\n --red-dim: rgba(255,51,85,0.15);\n --green: #00ff9d;\n --green-dim: rgba(0,255,157,0.12);\n\n --text-primary: #d0e4f0;\n --text-secondary:#7a9ab5;\n --text-dim: #3a5570;\n --text-muted: #253545;\n\n --header-h: 58px;\n --loctab-h: 46px;\n --navh: 42px;\n\n --font-ui: 'Exo 2', sans-serif;\n --font-mono: 'JetBrains Mono', monospace;\n --font-display: 'Bebas Neue', sans-serif;\n\n --radius: 4px;\n --shadow-card: 0 4px 24px rgba(0,0,0,0.6);\n}\n\nhtml, body { height: 100%; background: var(--bg-void); color: var(--text-primary); font-family: var(--font-ui); overflow: hidden; }\n\n\/* ── SCROLLBARS ────────────────────────────────────── *\/\n::-webkit-scrollbar { width: 5px; height: 5px; }\n::-webkit-scrollbar-track { background: var(--bg-base); }\n::-webkit-scrollbar-thumb { background: var(--border-bright); border-radius: 3px; }\n::-webkit-scrollbar-thumb:hover { background: var(--accent-dim); }\n\n\/* ── UTILITY ────────────────────────────────────────── *\/\n.hidden { display: none !important; }\n.fade-in { animation: fadeIn 0.22s ease both; }\n@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: none; } }\n\n.status-dot { display: inline-block; width: 7px; height: 7px; border-radius: 50%; }\n.status-dot.active { background: var(--green); box-shadow: 0 0 8px var(--green); animation: blink 2.5s ease infinite; }\n@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.35; } }\n\n\/* ── LOGIN ──────────────────────────────────────────── *\/\n.login-overlay {\n position: fixed; inset: 0; background: var(--bg-void);\n display: flex; align-items: center; justify-content: center; z-index: 9999;\n background-image: \n radial-gradient(ellipse 80% 60% at 50% 50%, rgba(0,210,255,0.04) 0%, transparent 70%),\n repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(0,210,255,0.03) 40px),\n repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(0,210,255,0.03) 40px);\n}\n.login-box {\n background: var(--bg-surface); border: 1px solid var(--border-mid);\n border-radius: 8px; padding: 40px 48px;\n width: 420px; text-align: center;\n box-shadow: 0 0 80px rgba(0,0,0,0.9), 0 0 40px rgba(0,210,255,0.05);\n position: relative;\n}\n.login-box::before {\n content: ''; position: absolute; top: 0; left: 30%; right: 30%;\n height: 1px; background: linear-gradient(90deg, transparent, var(--accent), transparent);\n}\n.login-emblem {\n width: 72px; height: 72px; margin: 0 auto 24px;\n position: relative; display: flex; align-items: center; justify-content: center;\n}\n.emblem-ring {\n position: absolute; inset: 0; border: 1px solid var(--accent-dim);\n border-radius: 50%; animation: spin 8s linear infinite;\n border-top-color: var(--accent); border-right-color: transparent;\n}\n@keyframes spin { to { transform: rotate(360deg); } }\n.emblem-inner { z-index: 1; }\n.emblem-icon { font-size: 32px; color: var(--accent); text-shadow: 0 0 20px var(--accent); }\n.login-title { font-family: var(--font-display); font-size: 22px; letter-spacing: 3px; color: var(--accent); margin-bottom: 4px; }\n.login-subtitle { font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); letter-spacing: 2px; margin-bottom: 4px; }\n.login-classification { font-family: var(--font-mono); font-size: 9px; color: var(--amber); letter-spacing: 2px; margin-bottom: 28px; }\n.login-fields { display: flex; flex-direction: column; gap: 14px; text-align: left; }\n.field-group { display: flex; flex-direction: column; gap: 5px; }\n.field-label { font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); letter-spacing: 2px; }\n.login-input {\n background: var(--bg-raised); border: 1px solid var(--border-mid);\n border-radius: var(--radius); color: var(--text-primary);\n font-family: var(--font-mono); font-size: 13px; padding: 10px 12px; outline: none;\n transition: border 0.2s, box-shadow 0.2s;\n}\n.login-input:focus { border-color: var(--accent-dim); box-shadow: 0 0 0 2px var(--accent-glow); }\n.login-hint { font-family: var(--font-mono); font-size: 9px; color: var(--text-muted); text-align: center; }\n.login-btn {\n background: var(--accent-glow); border: 1px solid var(--accent-dim);\n color: var(--accent); font-family: var(--font-display); font-size: 16px; letter-spacing: 3px;\n padding: 12px; border-radius: var(--radius); cursor: pointer; display: flex;\n align-items: center; justify-content: center; gap: 10px; margin-top: 4px;\n transition: all 0.2s; width: 100%;\n}\n.login-btn:hover { background: rgba(0,210,255,0.18); border-color: var(--accent); box-shadow: 0 0 20px rgba(0,210,255,0.15); }\n.login-error { font-family: var(--font-mono); font-size: 10px; color: var(--red); text-align: center; padding: 6px; border: 1px solid var(--red-dim); border-radius: var(--radius); background: var(--red-dim); letter-spacing: 1px; }\n.login-footer { margin-top: 24px; font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); display: flex; align-items: center; justify-content: center; gap: 6px; }\n\n\/* ── APP SHELL ──────────────────────────────────────── *\/\n.app { display: flex; flex-direction: column; height: 100vh; }\n\n\/* ── HEADER ──────────────────────────────────────────── *\/\n.header {\n height: var(--header-h); background: var(--bg-surface);\n border-bottom: 1px solid var(--border-dim);\n display: flex; align-items: center; padding: 0 16px; gap: 16px;\n flex-shrink: 0; position: relative; z-index: 200;\n}\n.header::after {\n content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 1px;\n background: linear-gradient(90deg, transparent 0%, var(--accent-dim) 30%, var(--accent-dim) 70%, transparent 100%);\n opacity: 0.4;\n}\n.header-left { display: flex; align-items: center; gap: 12px; min-width: 280px; }\n.header-logo { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; }\n.logo-hex { font-size: 28px; color: var(--accent); text-shadow: 0 0 15px var(--accent); }\n.brand-mission { font-family: var(--font-display); font-size: 17px; letter-spacing: 2px; color: var(--accent); line-height: 1; }\n.brand-sub { font-family: var(--font-mono); font-size: 8px; color: var(--text-secondary); letter-spacing: 1.5px; margin-top: 3px; }\n\n.header-center { flex: 1; display: flex; justify-content: center; }\n.search-wrap { position: relative; width: 100%; max-width: 440px; }\n.search-icon { position: absolute; left: 11px; top: 50%; transform: translateY(-50%); color: var(--text-dim); font-size: 15px; pointer-events: none; }\n.search-input {\n width: 100%; background: var(--bg-raised); border: 1px solid var(--border-dim);\n border-radius: var(--radius); color: var(--text-primary);\n font-family: var(--font-mono); font-size: 11px; padding: 8px 32px 8px 34px; outline: none;\n transition: border 0.2s;\n}\n.search-input:focus { border-color: var(--border-bright); }\n.search-input::placeholder { color: var(--text-muted); }\n.search-clear { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: var(--text-dim); cursor: pointer; font-size: 11px; display: none; }\n.search-clear.visible { display: block; }\n\n.header-right { display: flex; align-items: center; gap: 16px; min-width: 220px; justify-content: flex-end; }\n.header-clock { text-align: right; }\n.clock-utc { font-family: var(--font-mono); font-size: 15px; color: var(--accent); letter-spacing: 1px; }\n.clock-date { font-family: var(--font-mono); font-size: 9px; color: var(--text-secondary); letter-spacing: 1px; }\n.header-status { display: flex; align-items: center; gap: 6px; }\n.status-label { font-family: var(--font-mono); font-size: 9px; color: var(--text-secondary); letter-spacing: 1px; }\n.logout-btn { background: none; border: 1px solid var(--border-mid); border-radius: var(--radius); color: var(--text-dim); font-size: 14px; width: 30px; height: 30px; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; }\n.logout-btn:hover { border-color: var(--red); color: var(--red); background: var(--red-dim); }\n\n\/* ── LOCATION TABS ───────────────────────────────────── *\/\n.loc-tabs {\n height: var(--loctab-h); background: var(--bg-base);\n border-bottom: 1px solid var(--border-dim);\n display: flex; align-items: center; padding: 0 16px;\n gap: 0; justify-content: space-between; flex-shrink: 0;\n}\n.loc-tab-track { display: flex; gap: 4px; align-items: center; }\n.loc-tab {\n display: flex; flex-direction: column; align-items: flex-start;\n padding: 6px 20px; border: 1px solid transparent;\n border-bottom: none; border-radius: 4px 4px 0 0;\n background: transparent; color: var(--text-secondary);\n cursor: pointer; transition: all 0.2s; gap: 1px;\n font-family: var(--font-ui); position: relative; top: 1px;\n}\n.loc-tab:hover { background: var(--bg-raised); color: var(--text-primary); }\n.loc-tab.active { background: var(--bg-surface); border-color: var(--border-mid); border-bottom-color: var(--bg-surface); color: var(--accent); }\n.loc-tab.active::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: var(--accent); border-radius: 4px 4px 0 0; }\n.loc-icao { font-family: var(--font-display); font-size: 18px; letter-spacing: 2px; line-height: 1; }\n.loc-name { font-family: var(--font-mono); font-size: 8px; letter-spacing: 1px; color: var(--text-dim); }\n.loc-tab-add { background: none; border: 1px dashed var(--border-mid); border-radius: var(--radius); color: var(--text-dim); font-family: var(--font-mono); font-size: 10px; padding: 4px 10px; cursor: pointer; margin-left: 8px; transition: all 0.2s; letter-spacing: 1px; }\n.loc-tab-add:hover { border-color: var(--accent-dim); color: var(--accent); }\n.loc-cycle { display: flex; align-items: center; gap: 8px; }\n.cycle-label { font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); letter-spacing: 1px; }\n.cycle-select { background: var(--bg-raised); border: 1px solid var(--border-mid); color: var(--accent); font-family: var(--font-mono); font-size: 12px; padding: 5px 10px; border-radius: var(--radius); outline: none; cursor: pointer; }\n\n\/* ── SECTION NAV ──────────────────────────────────────── *\/\n.section-nav {\n height: var(--navh); background: var(--bg-surface);\n border-bottom: 1px solid var(--border-dim);\n flex-shrink: 0; overflow-x: auto; overflow-y: hidden;\n}\n.section-nav::-webkit-scrollbar { height: 2px; }\n.nav-items { display: flex; height: 100%; padding: 0 16px; gap: 2px; }\n.nav-item {\n display: flex; align-items: center; gap: 7px;\n padding: 0 18px; background: transparent; border: none;\n border-bottom: 2px solid transparent;\n color: var(--text-secondary); font-family: var(--font-ui); font-size: 12px;\n font-weight: 600; letter-spacing: 1px; cursor: pointer;\n transition: all 0.18s; white-space: nowrap;\n}\n.nav-item .nav-icon { font-size: 10px; }\n.nav-item:hover { color: var(--text-primary); border-bottom-color: var(--border-bright); }\n.nav-item.active { color: var(--accent); border-bottom-color: var(--accent); background: rgba(0,210,255,0.04); }\n\n\/* ── CONTENT AREA ────────────────────────────────────── *\/\n.content { flex: 1; overflow-y: auto; padding: 20px; background: var(--bg-base); }\n\n\/* ── PAGE HEADER ─────────────────────────────────────── *\/\n.page-header { margin-bottom: 20px; padding-bottom: 14px; border-bottom: 1px solid var(--border-dim); }\n.page-header-inner { display: flex; align-items: flex-end; justify-content: space-between; }\n.page-title { font-family: var(--font-display); font-size: 24px; letter-spacing: 3px; color: var(--accent); }\n.page-subtitle { font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); letter-spacing: 1px; margin-top: 4px; }\n.page-meta { display: flex; gap: 10px; margin-top: 8px; flex-wrap: wrap; }\n.meta-chip { font-family: var(--font-mono); font-size: 9px; letter-spacing: 1px; padding: 3px 9px; border-radius: 2px; border: 1px solid var(--border-dim); color: var(--text-dim); }\n.meta-chip.active { border-color: var(--accent-dim); color: var(--accent); background: var(--accent-glow); }\n\n\/* ── COLLAPSIBLE SECTION ─────────────────────────────── *\/\n.collapsible { margin-bottom: 14px; border: 1px solid var(--border-dim); border-radius: 6px; overflow: hidden; }\n.collapsible-header {\n display: flex; align-items: center; justify-content: space-between;\n padding: 11px 16px; background: var(--bg-card); cursor: pointer;\n transition: background 0.18s; user-select: none;\n}\n.collapsible-header:hover { background: var(--bg-hover); }\n.collapsible-left { display: flex; align-items: center; gap: 10px; }\n.collapsible-num { font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); min-width: 30px; }\n.collapsible-title { font-family: var(--font-ui); font-size: 13px; font-weight: 600; letter-spacing: 0.5px; color: var(--text-primary); }\n.collapsible-badge { font-family: var(--font-mono); font-size: 9px; padding: 2px 7px; border-radius: 2px; border: 1px solid var(--border-mid); color: var(--text-dim); letter-spacing: 1px; }\n.collapsible-right { display: flex; align-items: center; gap: 10px; }\n.chevron { font-size: 10px; color: var(--text-dim); transition: transform 0.2s; }\n.chevron.open { transform: rotate(90deg); }\n.collapsible-body { padding: 16px; background: var(--bg-raised); border-top: 1px solid var(--border-dim); }\n.collapsed .collapsible-body { display: none; }\n\n\/* ── CARD ────────────────────────────────────────────── *\/\n.card { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 6px; overflow: hidden; transition: border-color 0.2s; box-shadow: var(--shadow-card); }\n.card:hover { border-color: var(--border-mid); }\n.card-head { display: flex; align-items: center; justify-content: space-between; padding: 9px 14px; border-bottom: 1px solid var(--border-dim); background: rgba(0,0,0,0.25); }\n.card-title { font-family: var(--font-ui); font-size: 11px; font-weight: 700; letter-spacing: 1.5px; color: var(--text-secondary); text-transform: uppercase; }\n.card-actions { display: flex; gap: 5px; }\n.card-btn { background: none; border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-dim); font-family: var(--font-mono); font-size: 10px; padding: 3px 8px; cursor: pointer; transition: all 0.15s; }\n.card-btn:hover { border-color: var(--accent-dim); color: var(--accent); }\n.card-btn.danger:hover { border-color: var(--red); color: var(--red); }\n.card-body { padding: 14px; }\n\n\/* ── GRID LAYOUTS ────────────────────────────────────── *\/\n.grid-1 { display: grid; grid-template-columns: 1fr; gap: 14px; }\n.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }\n.grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 14px; }\n.grid-auto { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 14px; }\n\n\/* ── UPLOAD ZONE ──────────────────────────────────────── *\/\n.upload-zone {\n border: 1px dashed var(--border-bright); border-radius: 5px;\n min-height: 150px; display: flex; flex-direction: column;\n align-items: center; justify-content: center; gap: 8px;\n cursor: pointer; transition: all 0.2s; position: relative;\n background: rgba(0,0,0,0.2); overflow: hidden;\n}\n.upload-zone:hover, .upload-zone.drag-over { border-color: var(--accent-dim); background: var(--accent-glow); }\n.upload-zone.has-content { border-style: solid; border-color: var(--border-mid); min-height: auto; }\n.upload-zone input[type=file] { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }\n.upload-icon { font-size: 26px; color: var(--text-muted); }\n.upload-text { font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); text-align: center; letter-spacing: 1px; line-height: 1.6; }\n.upload-text strong { color: var(--text-secondary); }\n.upload-preview { max-width: 100%; max-height: 380px; object-fit: contain; display: block; border-radius: 3px; }\n.upload-gif { max-width: 100%; border-radius: 3px; }\n.upload-controls { display: flex; gap: 6px; margin-top: 8px; flex-wrap: wrap; }\n\n\/* ── ANALYSIS FIELD ──────────────────────────────────── *\/\n.analysis-label { font-family: var(--font-mono); font-size: 9px; letter-spacing: 1.5px; color: var(--text-dim); margin-top: 12px; margin-bottom: 5px; display: block; text-transform: uppercase; }\n.analysis-field {\n width: 100%; background: rgba(0,0,0,0.35); border: 1px solid var(--border-dim);\n border-radius: 3px; color: var(--text-primary);\n font-family: var(--font-mono); font-size: 11px; padding: 9px;\n resize: vertical; min-height: 80px; outline: none; line-height: 1.65;\n transition: border 0.2s;\n}\n.analysis-field:focus { border-color: var(--accent-dim); }\n.analysis-field::placeholder { color: var(--text-muted); }\n\n\/* ── DISCUSSION NOTES ────────────────────────────────── *\/\n.discussion-wrap { margin-top: 10px; }\n.discussion-toggle { display: flex; align-items: center; gap: 8px; font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); cursor: pointer; letter-spacing: 1px; padding: 4px 0; }\n.discussion-toggle:hover { color: var(--text-secondary); }\n.discussion-body { margin-top: 6px; }\n.discussion-field {\n width: 100%; background: rgba(0,0,0,0.4); border: 1px solid var(--border-dim);\n border-radius: 3px; color: var(--text-secondary);\n font-family: var(--font-mono); font-size: 11px; padding: 8px;\n resize: vertical; min-height: 60px; outline: none; line-height: 1.6;\n transition: border 0.2s;\n}\n.discussion-field:focus { border-color: var(--border-bright); }\n\n\/* ── LEVEL TABS (upper air \/ model) ──────────────────── *\/\n.level-tabs { display: flex; gap: 4px; margin-bottom: 14px; flex-wrap: wrap; }\n.level-tab { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-secondary); font-family: var(--font-mono); font-size: 11px; padding: 5px 14px; cursor: pointer; transition: all 0.15s; letter-spacing: 1px; }\n.level-tab:hover { border-color: var(--border-bright); color: var(--text-primary); }\n.level-tab.active { background: var(--accent-glow); border-color: var(--accent-dim); color: var(--accent); }\n\n\/* ── COMPARE PANEL ───────────────────────────────────── *\/\n.compare-select-bar { display: flex; gap: 8px; margin-bottom: 12px; align-items: center; flex-wrap: wrap; }\n.compare-select-bar .label { font-family: var(--font-mono); font-size: 10px; color: var(--text-dim); letter-spacing: 1px; }\n.compare-btn { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; padding: 5px 12px; cursor: pointer; transition: all 0.15s; }\n.compare-btn:hover { border-color: var(--accent-dim); color: var(--accent); }\n.compare-btn.active { background: var(--accent-glow); border-color: var(--accent-dim); color: var(--accent); }\n\n\/* ── STOPLIGHT TABLE ─────────────────────────────────── *\/\n.stoplight-table { width: 100%; border-collapse: collapse; font-family: var(--font-mono); font-size: 11px; }\n.stoplight-table th { padding: 9px 12px; text-align: left; background: rgba(0,0,0,0.4); border: 1px solid var(--border-dim); color: var(--text-secondary); font-size: 10px; letter-spacing: 1px; font-weight: 500; }\n.stoplight-table td { padding: 8px 12px; border: 1px solid var(--border-dim); color: var(--text-primary); vertical-align: middle; }\n.stoplight-table tr:hover td { background: rgba(255,255,255,0.02); }\n.stoplight-table select, .stoplight-table input { background: transparent; border: none; outline: none; color: inherit; font-family: var(--font-mono); font-size: 11px; width: 100%; }\n.light { display: inline-flex; align-items: center; gap: 6px; font-weight: 700; }\n.light-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }\n.g .light-dot { background: var(--green); box-shadow: 0 0 8px var(--green); }\n.g { color: var(--green); }\n.a .light-dot { background: var(--amber); box-shadow: 0 0 8px var(--amber); }\n.a { color: var(--amber); }\n.r .light-dot { background: var(--red); box-shadow: 0 0 8px var(--red); }\n.r { color: var(--red); }\n\n\/* ── TIMELINE ─────────────────────────────────────────── *\/\n.timeline { display: flex; gap: 0; overflow-x: auto; padding-bottom: 8px; }\n.timeline-day { min-width: 140px; border: 1px solid var(--border-dim); border-left: none; }\n.timeline-day:first-child { border-left: 1px solid var(--border-dim); border-radius: 4px 0 0 4px; }\n.timeline-day:last-child { border-radius: 0 4px 4px 0; }\n.timeline-day-head { padding: 7px 10px; background: rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-dim); text-align: center; }\n.timeline-day-label { font-family: var(--font-display); font-size: 14px; letter-spacing: 1px; color: var(--accent); }\n.timeline-day-date { font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); }\n.timeline-day-body { padding: 10px; }\n.timeline-field { width: 100%; background: transparent; border: none; outline: none; color: var(--text-primary); font-family: var(--font-mono); font-size: 10px; resize: none; height: 80px; line-height: 1.5; }\n.timeline-field::placeholder { color: var(--text-muted); }\n.timeline-risk { display: flex; gap: 4px; justify-content: center; padding: 6px 0; border-top: 1px solid var(--border-dim); }\n.timeline-risk-btn { width: 20px; height: 20px; border-radius: 50%; border: 2px solid; cursor: pointer; transition: transform 0.15s; }\n.timeline-risk-btn:hover { transform: scale(1.2); }\n.timeline-risk-btn.grn { border-color: var(--green); }\n.timeline-risk-btn.grn.on { background: var(--green); box-shadow: 0 0 8px var(--green); }\n.timeline-risk-btn.amb { border-color: var(--amber); }\n.timeline-risk-btn.amb.on { background: var(--amber); box-shadow: 0 0 8px var(--amber); }\n.timeline-risk-btn.red { border-color: var(--red); }\n.timeline-risk-btn.red.on { background: var(--red); box-shadow: 0 0 8px var(--red); }\n\n\/* ── ARCHIVE ─────────────────────────────────────────── *\/\n.archive-filters { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; align-items: center; }\n.archive-filters select, .archive-filters input { background: var(--bg-card); border: 1px solid var(--border-dim); color: var(--text-primary); font-family: var(--font-mono); font-size: 11px; padding: 6px 10px; border-radius: 3px; outline: none; }\n.archive-table { width: 100%; border-collapse: collapse; }\n.archive-table th { padding: 8px 12px; background: var(--bg-card); border: 1px solid var(--border-dim); color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; letter-spacing: 1px; text-align: left; }\n.archive-table td { padding: 9px 12px; border: 1px solid var(--border-dim); font-family: var(--font-mono); font-size: 11px; color: var(--text-primary); }\n.archive-table tr:hover td { background: var(--bg-hover); }\n.archive-table input, .archive-table select { background: transparent; border: none; outline: none; color: inherit; font-family: inherit; font-size: inherit; width: 100%; }\n.add-row-btn { margin-top: 10px; background: var(--bg-card); border: 1px dashed var(--border-mid); color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; padding: 7px 16px; border-radius: 3px; cursor: pointer; letter-spacing: 1px; transition: all 0.15s; }\n.add-row-btn:hover { border-color: var(--accent-dim); color: var(--accent); }\n.version-badge { display: inline-block; background: var(--accent-glow); border: 1px solid var(--accent-dim); color: var(--accent); font-family: var(--font-mono); font-size: 9px; padding: 2px 6px; border-radius: 2px; letter-spacing: 1px; }\n\n\/* ── DIVIDER ─────────────────────────────────────────── *\/\n.section-div { border: none; border-top: 1px solid var(--border-dim); margin: 16px 0; }\n\n\/* ── IMPACT ASSET TABLE ──────────────────────────────── *\/\n.asset-table { width: 100%; border-collapse: collapse; }\n.asset-table th { padding: 8px 12px; background: rgba(0,0,0,0.4); border: 1px solid var(--border-dim); color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; letter-spacing: 1px; }\n.asset-table td { border: 1px solid var(--border-dim); padding: 0; }\n.asset-table td textarea { width: 100%; background: transparent; border: none; outline: none; color: var(--text-primary); font-family: var(--font-mono); font-size: 11px; padding: 8px 10px; resize: none; min-height: 60px; line-height: 1.5; }\n\n\/* ── LIGHTBOX ────────────────────────────────────────── *\/\n.lightbox { position: fixed; inset: 0; z-index: 5000; display: flex; align-items: center; justify-content: center; }\n.lightbox-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.95); }\n.lightbox-inner { position: relative; max-width: 95vw; max-height: 95vh; }\n.lightbox-close { position: absolute; top: -38px; right: 0; background: none; border: 1px solid var(--border-mid); border-radius: 3px; color: var(--text-primary); font-family: var(--font-mono); font-size: 11px; padding: 4px 10px; cursor: pointer; }\n.lightbox-close:hover { border-color: var(--red); color: var(--red); }\n.lightbox-inner img { max-width: 95vw; max-height: 88vh; object-fit: contain; border-radius: 3px; position: relative; z-index: 1; }\n.lightbox-caption { position: relative; z-index: 1; font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); text-align: center; margin-top: 8px; }\n\n\/* ── COMPARE MODAL ───────────────────────────────────── *\/\n.compare-modal { position: fixed; inset: 0; z-index: 4000; display: flex; align-items: center; justify-content: center; }\n.compare-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.9); }\n.compare-inner { position: relative; z-index: 1; background: var(--bg-surface); border: 1px solid var(--border-mid); border-radius: 8px; width: 92vw; max-height: 90vh; overflow: hidden; display: flex; flex-direction: column; }\n.compare-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid var(--border-dim); }\n.compare-title { font-family: var(--font-display); font-size: 16px; letter-spacing: 2px; color: var(--accent); }\n.compare-close { background: none; border: 1px solid var(--border-mid); border-radius: 3px; color: var(--text-dim); font-size: 12px; padding: 4px 10px; cursor: pointer; }\n.compare-close:hover { border-color: var(--red); color: var(--red); }\n.compare-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px; padding: 16px; overflow-y: auto; flex: 1; }\n.compare-item { border: 1px solid var(--border-dim); border-radius: 4px; overflow: hidden; }\n.compare-item-title { padding: 6px 10px; background: rgba(0,0,0,0.3); font-family: var(--font-mono); font-size: 10px; color: var(--text-secondary); letter-spacing: 1px; border-bottom: 1px solid var(--border-dim); }\n.compare-item img { width: 100%; object-fit: contain; max-height: 300px; }\n\n\/* ── TOAST ───────────────────────────────────────────── *\/\n.toast { position: fixed; bottom: 24px; right: 24px; background: var(--bg-surface); border: 1px solid var(--border-mid); border-radius: 5px; padding: 10px 18px; font-family: var(--font-mono); font-size: 12px; color: var(--text-primary); z-index: 9000; box-shadow: 0 8px 32px rgba(0,0,0,0.8); animation: slideIn 0.2s ease; }\n@keyframes slideIn { from { transform: translateX(20px); opacity: 0; } to { transform: none; opacity: 1; } }\n\n\/* ── RESPONSIVE ──────────────────────────────────────── *\/\n@media (max-width: 900px) {\n .grid-2, .grid-3 { grid-template-columns: 1fr; }\n .header-left { min-width: auto; }\n .header-right { min-width: auto; }\n}\n@media (max-width: 600px) {\n .header { padding: 0 10px; gap: 8px; }\n .brand-mission { font-size: 14px; }\n .content { padding: 12px; }\n}\n\n\/* ── SEARCH HIGHLIGHT ────────────────────────────────── *\/\n.search-highlight { background: rgba(0,210,255,0.2); border-radius: 2px; padding: 0 2px; }\n\n\/* ── MODEL SPECIFIC ──────────────────────────────────── *\/\n.model-product-tabs { display: flex; gap: 4px; flex-wrap: wrap; margin-bottom: 12px; }\n.model-product-tab { background: var(--bg-card); border: 1px solid var(--border-dim); border-radius: 3px; color: var(--text-secondary); font-family: var(--font-mono); font-size: 10px; padding: 4px 10px; cursor: pointer; transition: all 0.15s; letter-spacing: 1px; }\n.model-product-tab.active { background: rgba(255,184,0,0.1); border-color: var(--amber-dim); color: var(--amber); }\n.model-product-tab:hover { border-color: var(--border-bright); color: var(--text-primary); }\n\n<\/style>\n<\/head>\n<body>\n\n<!-- LOGIN OVERLAY -->\n<div id=\"loginOverlay\" class=\"login-overlay\">\n <div class=\"login-box\">\n <div class=\"login-emblem\">\n <div class=\"emblem-ring\"><\/div>\n <div class=\"emblem-inner\">\n <span class=\"emblem-icon\">⬡<\/span>\n <\/div>\n <\/div>\n <div class=\"login-title\">VENEZUELA ABSOLUTE RESOLVE<\/div>\n <div class=\"login-subtitle\">OPERATIONAL WEATHER ANALYSIS SYSTEM<\/div>\n <div class=\"login-classification\">\/\/ ACCESS RESTRICTED \/\/<\/div>\n <div class=\"login-fields\">\n <div class=\"field-group\">\n <label class=\"field-label\">OPERATOR ID<\/label>\n <input type=\"text\" id=\"loginUser\" class=\"login-input\" placeholder=\"Enter operator ID\" autocomplete=\"off\"\/>\n <\/div>\n <div class=\"field-group\">\n <label class=\"field-label\">ACCESS CODE<\/label>\n <input type=\"password\" id=\"loginPass\" class=\"login-input\" placeholder=\"Enter access code\" autocomplete=\"off\"\/>\n <\/div>\n <div class=\"login-hint\">Default: demo \/ demo1234<\/div>\n <button class=\"login-btn\" onclick=\"attemptLogin()\">\n <span class=\"btn-text\">AUTHENTICATE<\/span>\n <span class=\"btn-arrow\">→<\/span>\n <\/button>\n <div id=\"loginError\" class=\"login-error hidden\">AUTHENTICATION FAILED — INVALID CREDENTIALS<\/div>\n <\/div>\n <div class=\"login-footer\">\n <span class=\"status-dot active\"><\/span> SYSTEM OPERATIONAL\n <\/div>\n <\/div>\n<\/div>\n\n<!-- MAIN APP -->\n<div id=\"app\" class=\"app hidden\">\n\n <!-- HEADER -->\n <header class=\"header\">\n <div class=\"header-left\">\n <div class=\"header-logo\">\n <span class=\"logo-hex\">⬡<\/span>\n <\/div>\n <div class=\"header-brand\">\n <div class=\"brand-mission\">VENEZUELA ABSOLUTE RESOLVE<\/div>\n <div class=\"brand-sub\">OPERATIONAL WEATHER ANALYSIS SYSTEM<\/div>\n <\/div>\n <\/div>\n\n <div class=\"header-center\">\n <div class=\"search-wrap\">\n <span class=\"search-icon\">⌕<\/span>\n <input type=\"text\" id=\"globalSearch\" class=\"search-input\" placeholder=\"SEARCH SECTIONS, CONTENT...\" oninput=\"handleSearch(this.value)\"\/>\n <span class=\"search-clear\" onclick=\"clearSearch()\" id=\"searchClear\">✕<\/span>\n <\/div>\n <\/div>\n\n <div class=\"header-right\">\n <div class=\"header-clock\">\n <div class=\"clock-utc\" id=\"clockUTC\">00:00:00Z<\/div>\n <div class=\"clock-date\" id=\"clockDate\">-- --- ----<\/div>\n <\/div>\n <div class=\"header-status\">\n <span class=\"status-dot active\"><\/span>\n <span class=\"status-label\">LIVE<\/span>\n <\/div>\n <button class=\"logout-btn\" onclick=\"logout()\" title=\"Logout\">⏻<\/button>\n <\/div>\n <\/header>\n\n <!-- LOCATION TABS -->\n <div class=\"loc-tabs\">\n <div class=\"loc-tab-track\">\n <button class=\"loc-tab active\" data-loc=\"TJRV\" onclick=\"switchLocation('TJRV')\">\n <span class=\"loc-icao\">TJRV<\/span>\n <span class=\"loc-name\">Roosevelt Roads, PR<\/span>\n <\/button>\n <button class=\"loc-tab\" data-loc=\"SVMI\" onclick=\"switchLocation('SVMI')\">\n <span class=\"loc-icao\">SVMI<\/span>\n <span class=\"loc-name\">Simón Bolívar, VE<\/span>\n <\/button>\n <button class=\"loc-tab-add\" onclick=\"duplicateAOR()\" title=\"Duplicate AOR\">\n <span>+ AOR<\/span>\n <\/button>\n <\/div>\n <div class=\"loc-cycle\">\n <span class=\"cycle-label\">CYCLE:<\/span>\n <select class=\"cycle-select\" id=\"cycleSelect\" onchange=\"setCycle(this.value)\">\n <option value=\"00Z\">00Z<\/option>\n <option value=\"06Z\">06Z<\/option>\n <option value=\"12Z\" selected>12Z<\/option>\n <option value=\"18Z\">18Z<\/option>\n <\/select>\n <\/div>\n <\/div>\n\n <!-- SECTION NAV -->\n <nav class=\"section-nav\">\n <div class=\"nav-items\">\n <button class=\"nav-item active\" data-section=\"climatology\" onclick=\"switchSection('climatology')\">\n <span class=\"nav-icon\">◈<\/span> CLIMATOLOGY\n <\/button>\n <button class=\"nav-item\" data-section=\"observations\" onclick=\"switchSection('observations')\">\n <span class=\"nav-icon\">◈<\/span> OBSERVATIONS\n <\/button>\n <button class=\"nav-item\" data-section=\"upper-air\" onclick=\"switchSection('upper-air')\">\n <span class=\"nav-icon\">◈<\/span> UPPER AIR\n <\/button>\n <button class=\"nav-item\" data-section=\"model-guidance\" onclick=\"switchSection('model-guidance')\">\n <span class=\"nav-icon\">◈<\/span> MODEL GUIDANCE\n <\/button>\n <button class=\"nav-item\" data-section=\"integrated\" onclick=\"switchSection('integrated')\">\n <span class=\"nav-icon\">◈<\/span> INTEGRATED ASSESSMENT\n <\/button>\n <button class=\"nav-item\" data-section=\"archive\" onclick=\"switchSection('archive')\">\n <span class=\"nav-icon\">◈<\/span> ARCHIVE\n <\/button>\n <\/div>\n <\/nav>\n\n <!-- CONTENT -->\n <main class=\"content\" id=\"mainContent\">\n <!-- Injected by JS -->\n <\/main>\n\n<\/div>\n\n<!-- LIGHTBOX -->\n<div id=\"lightbox\" class=\"lightbox hidden\">\n <div class=\"lightbox-backdrop\" onclick=\"closeLightbox()\"><\/div>\n <div class=\"lightbox-inner\">\n <button class=\"lightbox-close\" onclick=\"closeLightbox()\">✕ CLOSE<\/button>\n <img id=\"lightboxImg\" src=\"\" alt=\"\"\/>\n <div class=\"lightbox-caption\" id=\"lightboxCaption\"><\/div>\n <\/div>\n<\/div>\n\n<!-- COMPARE MODAL -->\n<div id=\"compareModal\" class=\"compare-modal hidden\">\n <div class=\"compare-backdrop\" onclick=\"closeCompare()\"><\/div>\n <div class=\"compare-inner\">\n <div class=\"compare-header\">\n <span class=\"compare-title\">SIDE-BY-SIDE COMPARISON<\/span>\n <button class=\"compare-close\" onclick=\"closeCompare()\">✕<\/button>\n <\/div>\n <div class=\"compare-grid\" id=\"compareGrid\"><\/div>\n <\/div>\n<\/div>\n\n<!-- TOAST -->\n<div id=\"toast\" class=\"toast hidden\"><\/div>\n\n<script>\n\/\/ ═══════════════════════════════════════════════════════════\n\/\/ DATA.JS — State management & localStorage persistence\n\/\/ ═══════════════════════════════════════════════════════════\n\nconst STATE = {\n currentLocation: 'TJRV',\n currentSection: 'climatology',\n currentCycle: '12Z',\n currentLevel: '500mb',\n currentModelProduct: 'deterministic',\n locations: ['TJRV', 'SVMI'],\n searchQuery: '',\n compareImages: {},\n uploadedImages: {}, \/\/ key: loc_section_cardId → dataURL\n analysisNotes: {}, \/\/ key: loc_section_fieldId → text\n archiveRows: {}, \/\/ key: loc → [{...}]\n stoplightData: {}, \/\/ key: loc → [{...}]\n timelineRisks: {}, \/\/ key: loc_day → 'g'|'a'|'r'\n loginUser: null,\n};\n\n\/\/ ── PERSISTENCE ─────────────────────────────────────────\nfunction saveState() {\n try {\n const toSave = {\n uploadedImages: STATE.uploadedImages,\n analysisNotes: STATE.analysisNotes,\n archiveRows: STATE.archiveRows,\n stoplightData: STATE.stoplightData,\n timelineRisks: STATE.timelineRisks,\n locations: STATE.locations,\n };\n localStorage.setItem('var_opws_state', JSON.stringify(toSave));\n } catch(e) { console.warn('Save failed (storage full?)', e); }\n}\n\nfunction loadState() {\n try {\n const raw = localStorage.getItem('var_opws_state');\n if (!raw) return;\n const saved = JSON.parse(raw);\n Object.assign(STATE, saved);\n } catch(e) { console.warn('Load state failed', e); }\n}\n\n\/\/ ── IMAGE HELPERS ────────────────────────────────────────\nfunction getImageKey(loc, section, cardId) {\n return `${loc}__${section}__${cardId}`;\n}\nfunction getImage(loc, section, cardId) {\n return STATE.uploadedImages[getImageKey(loc, section, cardId)] || null;\n}\nfunction setImage(loc, section, cardId, dataURL) {\n STATE.uploadedImages[getImageKey(loc, section, cardId)] = dataURL;\n saveState();\n}\nfunction clearImage(loc, section, cardId) {\n delete STATE.uploadedImages[getImageKey(loc, section, cardId)];\n saveState();\n}\n\n\/\/ ── NOTES HELPERS ────────────────────────────────────────\nfunction getNoteKey(loc, section, fieldId) {\n return `${loc}__${section}__${fieldId}`;\n}\nfunction getNote(loc, section, fieldId) {\n return STATE.analysisNotes[getNoteKey(loc, section, fieldId)] || '';\n}\nfunction setNote(loc, section, fieldId, text) {\n STATE.analysisNotes[getNoteKey(loc, section, fieldId)] = text;\n saveState();\n}\n\n\/\/ ── ARCHIVE HELPERS ──────────────────────────────────────\nfunction getArchive(loc) {\n if (!STATE.archiveRows[loc]) {\n STATE.archiveRows[loc] = defaultArchiveRows();\n }\n return STATE.archiveRows[loc];\n}\nfunction setArchive(loc, rows) {\n STATE.archiveRows[loc] = rows;\n saveState();\n}\nfunction defaultArchiveRows() {\n return [\n { id: 1, date: '2025-01-01', cycle: '00Z', section: 'climatology', version: 'v1.0', analyst: '', notes: '', locked: false },\n ];\n}\n\n\/\/ ── STOPLIGHT HELPERS ────────────────────────────────────\nfunction getStoplight(loc) {\n if (!STATE.stoplightData[loc]) {\n STATE.stoplightData[loc] = defaultStoplight();\n }\n return STATE.stoplightData[loc];\n}\nfunction setStoplight(loc, data) {\n STATE.stoplightData[loc] = data;\n saveState();\n}\nfunction defaultStoplight() {\n return [\n { threat: 'Low-Level Turbulence', air: 'a', isr: 'g', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'Convective Activity \/ CBs', air: 'r', isr: 'r', maritime: 'a', ground: 'a', remarks: '' },\n { threat: 'Icing (FL100–FL200)', air: 'a', isr: 'a', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'Low Visibility \/ Fog', air: 'r', isr: 'r', maritime: 'a', ground: 'a', remarks: '' },\n { threat: 'High Surface Winds', air: 'a', isr: 'g', maritime: 'r', ground: 'a', remarks: '' },\n { threat: 'High Upper Winds (≥100kts)', air: 'a', isr: 'a', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'IR Degradation', air: 'g', isr: 'r', maritime: 'g', ground: 'g', remarks: '' },\n { threat: 'Radar Degradation', air: 'g', isr: 'r', maritime: 'a', ground: 'g', remarks: '' },\n ];\n}\n\n\/\/ ── TIMELINE RISK ────────────────────────────────────────\nfunction getTimelineRisk(loc, day) {\n return STATE.timelineRisks[`${loc}__${day}`] || '';\n}\nfunction setTimelineRisk(loc, day, risk) {\n STATE.timelineRisks[`${loc}__${day}`] = risk;\n saveState();\n}\n\n<\/script>\n<script>\n\/\/ ═══════════════════════════════════════════════════════════\n\/\/ UI.JS — Reusable UI helpers & component builders\n\/\/ ═══════════════════════════════════════════════════════════\n\n\/\/ ── CLOCK ────────────────────────────────────────────────\nfunction startClock() {\n function tick() {\n const now = new Date();\n const pad = n => n.toString().padStart(2, '0');\n const utcH = pad(now.getUTCHours());\n const utcM = pad(now.getUTCMinutes());\n const utcS = pad(now.getUTCSeconds());\n document.getElementById('clockUTC').textContent = `${utcH}:${utcM}:${utcS}Z`;\n const months = ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];\n const d = String(now.getUTCDate()).padStart(2,'0');\n const m = months[now.getUTCMonth()];\n const y = now.getUTCFullYear();\n document.getElementById('clockDate').textContent = `${d} ${m} ${y}`;\n }\n tick();\n setInterval(tick, 1000);\n}\n\n\/\/ ── TOAST ────────────────────────────────────────────────\nfunction showToast(msg, duration = 2500) {\n const t = document.getElementById('toast');\n t.textContent = msg;\n t.classList.remove('hidden');\n clearTimeout(t._timer);\n t._timer = setTimeout(() => t.classList.add('hidden'), duration);\n}\n\n\/\/ ── UPLOAD ZONE ──────────────────────────────────────────\nfunction buildUploadZone(loc, section, cardId, opts = {}) {\n const { label = '', allowGif = true, showCompare = false } = opts;\n const existing = getImage(loc, section, cardId);\n const zoneId = `uz-${loc}-${section}-${cardId}`.replace(\/[^a-z0-9-]\/gi, '_');\n\n const isGif = existing && existing.startsWith('data:image\/gif');\n\n const html = `\n <div class=\"upload-zone ${existing ? 'has-content' : ''}\" id=\"${zoneId}\"\n ondragover=\"handleDragOver(event, '${zoneId}')\"\n ondragleave=\"handleDragLeave('${zoneId}')\"\n ondrop=\"handleDrop(event, '${loc}', '${section}', '${cardId}', '${zoneId}')\">\n ${existing\n ? `<img src=\"${existing}\" class=\"${isGif ? 'upload-gif' : 'upload-preview'}\" alt=\"${label}\" data-caption=\"${label}\"\/>`\n : `<div class=\"upload-icon\">⬆<\/div>\n <div class=\"upload-text\"><strong>DRAG & DROP<\/strong><br\/>or click to upload<br\/>${allowGif ? 'PNG · JPG · GIF' : 'PNG · JPG'}<\/div>`\n }\n <input type=\"file\" accept=\"${allowGif ? 'image\/*,.gif' : 'image\/png,image\/jpeg'}\"\n onchange=\"handleFileInput(event, '${loc}', '${section}', '${cardId}', '${zoneId}')\"\/>\n <\/div>\n <div class=\"upload-controls\">\n ${existing ? `\n <button class=\"card-btn\" onclick=\"openLightbox('${zoneId}', '${label}')\">⊞ EXPAND<\/button>\n <button class=\"card-btn danger\" onclick=\"removeUpload('${loc}', '${section}', '${cardId}', '${zoneId}')\">✕ CLEAR<\/button>\n ${showCompare ? `<button class=\"card-btn\" onclick=\"toggleCompare('${loc}', '${section}', '${cardId}', '${label}')\">⊟ COMPARE<\/button>` : ''}\n ` : ''}\n <\/div>`;\n return html;\n}\n\n\/\/ ── ANALYSIS TEXTAREA ────────────────────────────────────\nfunction buildAnalysisField(loc, section, fieldId, placeholder = 'Enter analyst discussion...') {\n const val = getNote(loc, section, fieldId);\n const id = `af-${loc}-${section}-${fieldId}`.replace(\/[^a-z0-9-]\/gi, '_');\n return `\n <span class=\"analysis-label\">ANALYST DISCUSSION<\/span>\n <textarea class=\"analysis-field\" id=\"${id}\" placeholder=\"${placeholder}\"\n onchange=\"handleNoteChange('${loc}', '${section}', '${fieldId}', this.value)\"\n oninput=\"handleNoteChange('${loc}', '${section}', '${fieldId}', this.value)\"\n >${escapeHtml(val)}<\/textarea>`;\n}\n\n\/\/ ── DISCUSSION NOTES ─────────────────────────────────────\nfunction buildDiscussionNotes(loc, section, fieldId) {\n const val = getNote(loc, section, `disc_${fieldId}`);\n const id = `dn-${fieldId}`.replace(\/[^a-z0-9-]\/gi, '_');\n return `\n <div class=\"discussion-wrap\">\n <div class=\"discussion-toggle\" onclick=\"toggleDiscussion('${id}')\">\n <span id=\"disc-chev-${id}\">▶<\/span> COLLAPSIBLE DISCUSSION NOTES\n <\/div>\n <div class=\"discussion-body hidden\" id=\"disc-body-${id}\">\n <textarea class=\"discussion-field\" placeholder=\"Extended discussion notes, model comparison, uncertainty...\"\n onchange=\"handleNoteChange('${loc}', '${section}', 'disc_${fieldId}', this.value)\"\n oninput=\"handleNoteChange('${loc}', '${section}', 'disc_${fieldId}', this.value)\"\n >${escapeHtml(val)}<\/textarea>\n <\/div>\n <\/div>`;\n}\n\n\/\/ ── COLLAPSIBLE ───────────────────────────────────────────\nfunction buildCollapsible(id, num, title, badge, content, defaultOpen = true) {\n return `\n <div class=\"collapsible ${defaultOpen ? '' : 'collapsed'}\" id=\"coll-${id}\">\n <div class=\"collapsible-header\" onclick=\"toggleCollapsible('coll-${id}')\">\n <div class=\"collapsible-left\">\n <span class=\"collapsible-num\">${num}<\/span>\n <span class=\"collapsible-title\">${title}<\/span>\n ${badge ? `<span class=\"collapsible-badge\">${badge}<\/span>` : ''}\n <\/div>\n <div class=\"collapsible-right\">\n <span class=\"chevron ${defaultOpen ? 'open' : ''}\" id=\"chev-${id}\">▶<\/span>\n <\/div>\n <\/div>\n <div class=\"collapsible-body\">${content}<\/div>\n <\/div>`;\n}\n\n\/\/ ── CARD ──────────────────────────────────────────────────",
"stderr" : ""
}
